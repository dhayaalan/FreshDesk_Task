<html>
  <head>
    <title>index</title>
    <link
      rel="stylesheet"
      type="text/css"
      href="https://static.freshdev.io/fdk/2.0/assets/freshdesk.css"
    />
    <script src="node_modules/@freshworks/crayons/dist/crayons/crayons.js"></script>
    <script
      type="module"
      src="node_modules/@freshworks/crayons/dist/crayons/crayons.esm.js"
    ></script>
    <link
      rel="stylesheet"
      href="https://unpkg.com/@freshworks/crayons@v4/css/crayons-min.css"
    />
    <script
      type="module"
      src="https://unpkg.com/@freshworks/crayons@v4/dist/crayons/crayons.esm.js"
    ></script>
    <script
      nomodule
      src="https://unpkg.com/@freshworks/crayons@v4/dist/crayons/crayons.js"
    ></script>
    <link rel="stylesheet" type="text/css" href="./assets/iparams.css" />
    <style>
      /* Put your custom style here */
    </style>
  </head>
  <body>
    <div class="form">
      <fw-input
        id="domain"
        label="Domin Name"
        placeholder="Enter your Domain Name"
        required
        clear-input
        style="width: 50%"
      >
      </fw-input>
      <fw-input
        id="api"
        label="API Key"
        placeholder="Enter the API Key"
        required
        clear-input
        style="width: 50%"
      >
      </fw-input>
    </div>
    <div style="margin-top: 10px">
      <fw-button color="primary" id="validate" fwclick="userAuth()"
        >validate</fw-button
      >
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js"></script>
    <script src="{{{appclient}}}"></script>
    <script src="./assets/iparams.js"></script>
    <script type="text/javascript">
      var ls = {
        isValid: false,
        isFsValid: false,
      };

      var data = {
        fs_domain: '#domain',
        fs_api: '#api',
        fs_validate: '#validate',
      };

      function getInput() {
        console.log(
          $(data.fs_domain).val(),
          'domain',
          $(data.fs_api).val(),
          'key'
        );
        return {
          fs_domain: $(data.fs_domain).val(),
          fs_api: $(data.fs_api).val(),
        };
        console.log(
          $(data.fs_domain).val(),
          'domain',
          $(data.fs_api).val(),
          'key'
        );
      }

      function getConfigs(configs) {
        window.configs = configs;
        ls.isFsValid = true;
        $(data.fs_domain).val(configs.fs_domain);
        $(data.fs_api).val(configs.fs_api);
        $(data.fs_validate).trigger('click');
      }

      function validate() {
        let isValid = true;
        return isValid;
      }

      function postConfigs() {
        authInfo = getInput();
        return {
          fs_domain: authInfo.fs_domain,
          fs_key: authInfo.fs_api,
        };
      }
    </script>
  </body>
</html>
